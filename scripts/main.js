/*! EyeWorlds v1.0.4 | Copyright © 2002-2023 MlgmXyysd, © 2013-2023 MeowCat Studio, © 2020-2023 Meow Mobile All Rights Reserved */
"use strict";console.log("EyeWorlds v1.0.4");let scrollLock=false,touchStartX,touchStartY,maxPage;const PAGE_DEFINE={MAIN:0,DOWNLOAD:1,CREDIT:2,ABOUT:3},PAGE_ACTION={DEFAULT:0,NEXT:1,PREV:-1};jQuery(function(){particle();let a=$(".panel-arrow-box");let b=$(".blur");let c=$(".panel-content")[0];let d=$("#page-bar");let p=$(".panel")[0];$(".panel-footer").on("click",function(){setTimeout(function(){a.fadeOut()},100);p.style.height="0";b.fadeOut();setTimeout(function(){c.scrollTop=0;scrollLock=false},1000)});$(".star").on("click",function(){scrollLock=true;c.scrollTop=0;b.fadeIn();p.style.height="";setTimeout(function(){a.fadeIn()},500)});maxPage=$(".page").length-1;if(maxPage!=0){for(let i=0;i<maxPage+1;i++){d.append("<li></li>");d.children()[i].onclick=function(){jumpPage(i)}}}let e=getQuery("page");if(e){if(e===true){jumpPage(0,0)}else{e=parseInt(e);if(e<=0){jumpPage(0,0)}else{jumpPage(e,1500)}}}else{jumpPage(0,0)}$("#loader").fadeOut()});window.onresize=function(){let a=$(".particle")[0];a.height=window.innerHeight;a.width=window.innerWidth};const getQuery=function(key){let allQuery=window.location.search;if(allQuery!==""){if(allQuery.startsWith("?")){allQuery=allQuery.substring(1)}allQuery=allQuery.split("&");for(let i=0;i<allQuery.length;i++){if(allQuery[i].startsWith(key)){let value=allQuery[i].startsWith(key+"=")?allQuery[i].substring(key.length+1):"";return value===""?true:value}}return false}else{return false}};const getCurrentPage=function(){let page=0,style=$(".wrapper")[0].style.transform;if(style.startsWith("translateY(")&&style.endsWith("%)")){page=Math.abs(Math.floor(parseInt(style.substring(style.indexOf("(")+1,style.indexOf("%")))/100))}return page};const jumpPage=function(page=PAGE_ACTION.DEFAULT,lockTime=1500){scrollPage(page-getCurrentPage(),lockTime)};const isScrollLocked=function(){return scrollLock};const scrollPage=function(jumpPage=1,lockTime=1500){if(isScrollLocked()){return}let page=getCurrentPage();page=jumpPage<0?page<=0?0:page+jumpPage:page>=maxPage?maxPage:page+jumpPage;$(".wrapper")[0].style.transform="translateY(-"+page*100+"%)";let b=$("#page-bar").children();for(let i=0;i<b.length;i++){if(page===i){b[i].className="active"}else{b[i].className=""}}scrollLock=true;setTimeout(function(){scrollLock=false},lockTime)};const isChildren=function(e,p){while(e!==undefined&&e!==null&&e.tagName.toLowerCase()!=="body"){if(e===p){return true}e=e.parentNode}return false};$(window).on("mousewheel",function(e){if(e.target.classList.contains("drawer-shadow")){return}scrollPage(e.originalEvent.wheelDelta>0||e.detail<0?PAGE_ACTION.PREV:PAGE_ACTION.NEXT)});$(window).on("touchstart",function(e){touchStartX=e.touches[0].pageX;touchStartY=e.touches[0].pageY});$(window).on("touchend",function(e){if(e.target.classList.contains("drawer-shadow")){return}let touchX=e.changedTouches[0].pageX-touchStartX,touchY=e.changedTouches[0].pageY-touchStartY;if(Math.abs(touchX)>=3&&Math.abs(touchY)>=3){let touchAngle=Math.atan2(touchY,touchX)*180/Math.PI;if(touchAngle>=-135&&touchAngle<=-45){scrollPage(PAGE_ACTION.NEXT)}else if(touchAngle>45&&touchAngle<135){scrollPage(PAGE_ACTION.PREV)}}});